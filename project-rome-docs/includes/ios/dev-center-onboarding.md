---
title: Fichier include
description: Fichier include
ms.topic: include
ms.assetid: 0741073e-62de-4e31-8e3b-cd1a55027c1c
ms.localizationpriority: medium
ms.openlocfilehash: b03420e0229bed45fba5a079b955d62165a6b642
ms.sourcegitcommit: e95423df0e4427377ab74dbd12b0056233181d32
ms.translationtype: HT
ms.contentlocale: fr-FR
ms.lasthandoff: 06/14/2019
ms.locfileid: "58907601"
---
## <a name="preliminary-setup-for-push-notifications"></a><span data-ttu-id="015ce-103">Configuration préliminaire pour les notifications Push</span><span class="sxs-lookup"><span data-stu-id="015ce-103">Preliminary setup for push notifications</span></span>

### <a name="register-your-app-for-push-notifications"></a><span data-ttu-id="015ce-104">Inscrire votre application aux notifications Push</span><span class="sxs-lookup"><span data-stu-id="015ce-104">Register your app for push notifications</span></span>

<span data-ttu-id="015ce-105">Pour assurer une prise en charge d’[Apple Push Notification](https://developer.apple.com/notifications/), inscrivez votre application auprès d’Apple.</span><span class="sxs-lookup"><span data-stu-id="015ce-105">Register your application with Apple for [Apple Push Notification](https://developer.apple.com/notifications/) support.</span></span> <span data-ttu-id="015ce-106">Veillez à noter l’ID d’expéditeur et la clé serveur que vous recevez ; vous en aurez besoin par la suite.</span><span class="sxs-lookup"><span data-stu-id="015ce-106">Be sure to make note of the sender ID and server key that you receive; you'll need them later.</span></span> 

<span data-ttu-id="015ce-107">Une fois l’inscription effectuée, vous devez associer la fonctionnalité de notification Push à la Plateforme d’appareils connectés dans votre application.</span><span class="sxs-lookup"><span data-stu-id="015ce-107">Once registered, you must associate push notification functionality with the Connected Devices Platform in your app.</span></span>

```ObjectiveC
self.notificationRegistration = [[MCDConnectedDevicesNotificationRegistration alloc] init];
    if ([[UIApplication sharedApplication] isRegisteredForRemoteNotifications])
    {
        self.notificationRegistration.type = MCDNotificationTypeAPN;
    }
    else
    {
        self.notificationRegistration.type = MCDNotificationTypePolling;
    }
    self.notificationRegistration.appId = [[NSBundle mainBundle] bundleIdentifier];
    self.notificationRegistration.appDisplayName = (NSString*)[[NSBundle mainBundle] objectForInfoDictionaryKey:@"CFBundleDisplayName"];
    self.notificationRegistration.token = deviceToken;
    self.isRegisteredWithToken = YES;
```

### <a name="register-your-app-in-microsoft-windows-dev-center-for-cross-device-experiences"></a><span data-ttu-id="015ce-108">Inscrire votre application dans le Centre de développement Microsoft pour des expériences inter-appareils</span><span class="sxs-lookup"><span data-stu-id="015ce-108">Register your app in Microsoft Windows Dev Center for cross-device experiences</span></span>
<span data-ttu-id="015ce-109">Si vous avez besoin de communiquer avec votre appareil iOS, une inscription sur le Centre de développement Microsoft Windows s’avère nécessaire.</span><span class="sxs-lookup"><span data-stu-id="015ce-109">If you require communication to your iOS device, you'll need to register with the Microsoft Windows Dev Center.</span></span>  <span data-ttu-id="015ce-110">Ensuite, vous devez inscrire votre application pour la [fonctionnalité Expériences inter-appareils du tableau de bord Développeur Microsoft](https://developer.microsoft.com/dashboard/crossplatform/web).</span><span class="sxs-lookup"><span data-stu-id="015ce-110">Next, you need to register your app for the [cross-device experiences feature of the Microsoft Developer Dashboard](https://developer.microsoft.com/dashboard/crossplatform/web).</span></span> <span data-ttu-id="015ce-111">Il s’agit d’une procédure différente de celle visant à inscrire une application MSA et AAD décrite plus haut.</span><span class="sxs-lookup"><span data-stu-id="015ce-111">This is a different procedure from MSA and AAD app registration above.</span></span> <span data-ttu-id="015ce-112">Le principal objectif principal de ce processus est de mapper les identités d’application propres à la plateforme à une identité d’application multiplateforme qui est reconnue par la Plateforme d’appareils connectés et qui, dans le même temps, autorise la Plateforme à envoyer des notifications à l’aide des services de notification Push natifs correspondant à chaque plateforme mobile.</span><span class="sxs-lookup"><span data-stu-id="015ce-112">The main goal for this process is to map the platform specific app identities with a cross-platform app identity that is recognized by Connected Devices Platform, and at the same time authorizes the Platform to send notifications using the native push notification services corresponding to each mobile platform.</span></span> <span data-ttu-id="015ce-113">Dans ce cas, elle permet la communication avec les points de terminaison d’application iOS via APNs (Apple Push Notification Service).</span><span class="sxs-lookup"><span data-stu-id="015ce-113">In this case, it enables communication to iOS app endpoints via APNs – Apple Push Notification Service.</span></span> <span data-ttu-id="015ce-114">Dans le tableau de bord du Centre de développement, accédez à Expériences inter-appareils dans le volet de navigation de gauche, puis choisissez de configurer une nouvelle application inter-appareils.</span><span class="sxs-lookup"><span data-stu-id="015ce-114">Go to Dev Center Dashboard, navigate to Cross-Device Experiences from the left side navigation pane, and select configuring a new cross-device app.</span></span>
<span data-ttu-id="015ce-115">![Tableau de bord du Centre de développement – Expériences inter-appareils](../../notifications/media/dev_center_portal/dev_center_portal_1_overview.png)</span><span class="sxs-lookup"><span data-stu-id="015ce-115">![Dev Center Dashboard – Cross-Device Experiences](../../notifications/media/dev_center_portal/dev_center_portal_1_overview.png)</span></span>

<span data-ttu-id="015ce-116">Le processus d’intégration du Centre de développement comprend les étapes suivantes :</span><span class="sxs-lookup"><span data-stu-id="015ce-116">The Dev Center on-boarding process require the following steps:</span></span>
* <span data-ttu-id="015ce-117">Sélectionnez les plateformes prises en charge, à savoir celles sur lesquelles votre application sera présente et compatible avec les expériences inter-appareils.</span><span class="sxs-lookup"><span data-stu-id="015ce-117">Select supported platforms – select the platforms where your app will have a presence and be enabled for cross-device experiences.</span></span> <span data-ttu-id="015ce-118">Vous pouvez sélectionner Windows, Android et/ou iOS.</span><span class="sxs-lookup"><span data-stu-id="015ce-118">You can select from Windows, Android, and/or iOS.</span></span>
<span data-ttu-id="015ce-119">![Expériences inter-appareils – Plateformes prises en charge](../../notifications/media/dev_center_portal/dev_center_portal_2_supported_platforms.png)</span><span class="sxs-lookup"><span data-stu-id="015ce-119">![Cross-Device Experiences – Supported Platforms](../../notifications/media/dev_center_portal/dev_center_portal_2_supported_platforms.png)</span></span>

* <span data-ttu-id="015ce-120">Fournissez des ID d’application pour chaque plateforme sur laquelle votre application est présente.</span><span class="sxs-lookup"><span data-stu-id="015ce-120">Provide app IDs – provide app IDs for each of the platform where your app has a presence.</span></span>
<span data-ttu-id="015ce-121">![Expériences inter-appareils – ID d’application](../../notifications/media/dev_center_portal/dev_center_portal_3_app_ids.png)</span><span class="sxs-lookup"><span data-stu-id="015ce-121">![Cross-Device Experiences – App IDs](../../notifications/media/dev_center_portal/dev_center_portal_3_app_ids.png)</span></span>
> [!NOTE]
> <span data-ttu-id="015ce-122">Vous pouvez ajouter des ID différents (jusqu’à dix) par plateforme. Cela peut être utile si vous disposez de plusieurs versions d’une même application, voire différentes applications, et que vous souhaitez qu’elles puissent recevoir les mêmes notifications envoyées par votre serveur d’applications ciblant le même utilisateur.</span><span class="sxs-lookup"><span data-stu-id="015ce-122">You may add different IDs (up to ten) per platform – this is in case you have multiple version of the same app, or even different apps, that want to be able to receive the same notifications sent by your app server targeted at the same user.</span></span> 
> [!TIP] 
> <span data-ttu-id="015ce-123">Pour les applications iOS, il s’agit du nom de package que vous avez attribué à votre application au moment de créer le projet.</span><span class="sxs-lookup"><span data-stu-id="015ce-123">For iOS apps, this is the Package Name you assigned to your app when you created the project.</span></span> 

* <span data-ttu-id="015ce-124">Fournissez ou sélectionnez les ID d’application des inscriptions d’application MSA et/ou AAD.</span><span class="sxs-lookup"><span data-stu-id="015ce-124">Provide or select the app IDs from MSA and/or AAD app registrations.</span></span> <span data-ttu-id="015ce-125">Ces ID clients correspondant à l’inscription d’application MSA ou AAD ont été obtenus aux étapes précédentes d’inscription d’application MSA/AAD.</span><span class="sxs-lookup"><span data-stu-id="015ce-125">These client IDs corresponding to MSA or AAD app registration were obtained in the previous MSA/AAD app registration steps from above.</span></span>
<span data-ttu-id="015ce-126">![Expériences inter-appareils – Inscriptions d’application MSA et AAD](../../notifications/media/dev_center_portal/dev_center_portal_4_msa_aad_connections.png)</span><span class="sxs-lookup"><span data-stu-id="015ce-126">![Cross-Device Experiences – MSA and AAD App Registrations](../../notifications/media/dev_center_portal/dev_center_portal_4_msa_aad_connections.png)</span></span>
* <span data-ttu-id="015ce-127">Les fonctionnalités de la Plateforme d’appareils connectés tirent parti de chacune des principales plateformes de notification natives pour envoyer des notifications aux points de terminaison clients d’application, à savoir, WNS (pour Windows UWP), GCM (pour Android) et APNs (pour iOS).</span><span class="sxs-lookup"><span data-stu-id="015ce-127">Connected Devices Platform capabilities leverages each of the native notification platforms on major platforms to send notifications down to the app client endpoints, namely, WNS (for Windows UWP), GCM (for Android) and APNs (for iOS).</span></span> <span data-ttu-id="015ce-128">Fournissez vos informations d’identification pour ces plateformes de notification pour permettre à la Plateforme de transmettre les notifications pour votre serveur d’applications, dans le cas où vous publiez des notifications ciblant l’utilisateur.</span><span class="sxs-lookup"><span data-stu-id="015ce-128">Provide your credentials for these notification platforms to enable the Platform to deliver the notifications for your app server, when you publish user-targeted notifications.</span></span> 
<span data-ttu-id="015ce-129">![Expériences inter-appareils – Informations d’identification Push](../../notifications/media/dev_center_portal/dev_center_portal_5_push_credentials.png)</span><span class="sxs-lookup"><span data-stu-id="015ce-129">![Cross-Device Experiences – Push Credentials](../../notifications/media/dev_center_portal/dev_center_portal_5_push_credentials.png)</span></span>
> [!NOTE] 
> <span data-ttu-id="015ce-130">Pour iOS, l’activation d’APNs est un prérequis pour la communication avec un appareil iOS.</span><span class="sxs-lookup"><span data-stu-id="015ce-130">For iOS, enabling APNs is a prerequisite to communication to an iOS device.</span></span> <span data-ttu-id="015ce-131">Consultez [APNs Overview](https://developer.apple.com/library/archive/documentation/NetworkingInternet/Conceptual/RemoteNotificationsPG/APNSOverview.html#//apple_ref/doc/uid/TP40008194-CH8-SW1) pour plus d’informations.</span><span class="sxs-lookup"><span data-stu-id="015ce-131">See [APNs Overview](https://developer.apple.com/library/archive/documentation/NetworkingInternet/Conceptual/RemoteNotificationsPG/APNSOverview.html#//apple_ref/doc/uid/TP40008194-CH8-SW1) for more details.</span></span> <span data-ttu-id="015ce-132">Une fois que vous avez terminé l’intégration, vous pouvez fournir les informations d’identification Push à la Plateforme d’appareils connectés via le Centre de développement Windows.</span><span class="sxs-lookup"><span data-stu-id="015ce-132">Once you complete the onboarding, you can then provide the push credentials via Windows Dev Center to the Connected Device Platform.</span></span> 
* <span data-ttu-id="015ce-133">La dernière étape consiste à vérifier votre domaine d’application inter-appareils, qui sert de processus de vérification pour prouver que votre application est propriétaire de ce domaine qui fait office d’identité d’application inter-appareils pour l’application que vous avez inscrite.</span><span class="sxs-lookup"><span data-stu-id="015ce-133">The last step is to verify your cross-device app domain, which serves as a verification process to prove that your app has the ownership of this domain which acts like a cross-device app identity for the app you registered.</span></span>
<span data-ttu-id="015ce-134">![Expériences inter-appareils – Vérification de domaine](../../notifications/media/dev_center_portal/dev_center_portal_6_domain_verification.png)</span><span class="sxs-lookup"><span data-stu-id="015ce-134">![Cross-Device Experiences – Domain Verification](../../notifications/media/dev_center_portal/dev_center_portal_6_domain_verification.png)</span></span>

### <a name="process-notifications-as-they-are-received-by-the-app"></a><span data-ttu-id="015ce-135">Traiter les notifications à mesure que l’application les reçoit</span><span class="sxs-lookup"><span data-stu-id="015ce-135">Process notifications as they are received by the app</span></span>

<span data-ttu-id="015ce-136">Une fois que l’Expérience inter-appareils a été validée dans le Centre de développement Microsoft Windows, vérifiez que votre application peut traiter les notifications à mesure qu’elles arrivent.</span><span class="sxs-lookup"><span data-stu-id="015ce-136">Once the Cross-Device experience within the Microsoft Windows Dev Center has been validated, make sure your app can process the notifications as they come in.</span></span> 

```ObjectiveC
`MCDConnectedDevicesProcessNotificationOperation* processOperation = [_platformManager.platform processNotification:notificationInfo];`
```